#Include 'Protheus.ch' 

//------------------------------------------------------------------- 
/*/{Protheus.doc} FIN341PREM()
Rotina para construção de codigo fonte para geração de arquivo CNAB 

@author 
 
@since 16/08/2019  
@version TOTVS Serviços MSSQL Raposo  
/*/ 
//------------------------------------------------------------------- 
Function FIN341PREM()

	Local aRetCNAB	:= {}

	//                  1       2       3       4       5       6       7       8        9
	//              	IDELIN, HEADET, CHALIN, IDESEG, DESMOV, POSINI, POSFIM, DECIMAL, CONARQ
	//	AADD(aRetCNAB, {''    , ''    , ''    , ''    , ''    , ''    , ''    , ''     , ''     } )
	
    //ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
    //³ NIVEL 1                 ³
    //ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ
	AADD(aRetCNAB, {'1','0','H','' ,'HEADER DO ARQUIVO             ','.T.','','','                                                  ','.F.','001','',''})
	AADD(aRetCNAB, {'1','0','T','' ,'TRAILER DO ARQUIVO            ','.T.','','','                                                  ','.F.','002','',''})
	AADD(aRetCNAB, {'1','1','H','' ,'HEADER DO LOTE A/B            ','SEA->EA_MODELO $ \"01|02|03|04|05|10|41|43|45\"','','','                                                  ','.F.','003','',''})
	AADD(aRetCNAB, {'1','1','T','' ,'TRAILER DO LOTE A/B           ','SEA->EA_MODELO $ \"01|02|03|04|05|10|41|43|45\"','','','                                                  ','.F.','004','',''})
	AADD(aRetCNAB, {'1','2','H','' ,'HEADER DO LOTE J/J52          ','SEA->EA_MODELO $ \"30|31|47\"','','','                                                  ','.F.','005','',''})
	AADD(aRetCNAB, {'1','2','T','' ,'TRAILER DO LOTE J/J52         ','SEA->EA_MODELO $ \"30|31|47\"','','','                                                  ','.F.','006','',''})
	AADD(aRetCNAB, {'1','1','D','1','DETALHE SEGMENTO A            ','SEA->EA_MODELO $ \"01|02|03|04|05|10|41|43|45\"','','','                                                  ','.F.','009','',''})
	AADD(aRetCNAB, {'1','1','D','2','DETALHE SEGMENTO B            ','SEA->EA_MODELO $ \"01|02|03|04|05|10|41|43\"','','','                                                  ','.F.','010','',''})
	AADD(aRetCNAB, {'1','1','D','3','DETALHE SEGMENTO B-PIX        ','SEA->EA_MODELO $ \"45\"','','','                                                  ','.F.','011','',''})
	AADD(aRetCNAB, {'1','2','D','1','DETALHE SEGMENTO J            ','SEA->EA_MODELO $ \"30|31|47\"','','','                                                  ','.F.','012','',''})
	AADD(aRetCNAB, {'1','2','D','2','DETALHE SEGMENTO J-52         ','SEA->EA_MODELO $ \"30|31\"                                                          ','','','                                                  ','.F.','013','',''})
	AADD(aRetCNAB, {'1','2','D','3','DETALHE SEGMENTO J-52 PIX     ','SEA->EA_MODELO $ \"47\"                                                          ','','','                                                  ','.F.','014','',''})
	
	//ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
    //³ NIVEL 2                 ³
    //ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ
	// 20H - HEADER DO ARQUIVO
	AADD(aRetCNAB, {'2','0','H','' ,'BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','023','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'LOTE SERVICO   ','004','007','0','\"0000\"','.F.','024','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'TIPO REGISTRO  ','008','008','0','\"0\"','.F.','025','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'RESERVADO CNAB ','009','014','0','','.F.','026','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'LAYOUT ARQUIVO ','015','017','0','\"080\"','.F.','027','',''}) 
	AADD(aRetCNAB, {'2','0','H','' ,'TP INSC EMPRESA','018','018','0','IF(SM0->M0_TPINSC == 3, \"1\", \"2\")','.F.','028','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'NUM INSCRICAO  ','019','032','0','PADL(ALLTRIM(SM0->M0_CGC), 14, \"0\")','.F.','029','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'RESERVADO BANCO','033','052','0','','.F.','030','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'AG MANTENEDORA ','053','057','0','PADL(ALLTRIM(SEA->EA_AGEDEP), 5, \"0\")','.F.','031','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'RESERVADO BANCO','058','058','0','','.F.','032','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'CONTA CORRENTE ','059','070','0','PADL(ALLTRIM(SEA->EA_NUMCON), 12, \"0\")','.F.','033','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'RESERVADO BANCO','071','071','0','','.F.','034','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'DV AG/CONTA    ','072','072','0','CNABDVCC()','.F.','035','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'NOME DA EMPRESA','073','102','0','SM0->M0_NOMECOM','.F.','036','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'NOME DO BANCO  ','103','132','0','\"BANCO ITAU S.A.\"','.F.','037','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'RESERVADO CNAB ','133','142','0','','.F.','038','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'COD REM/RET    ','143','143','0','\"1\"','.F.','039','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'DT GERACAO ARQ ','144','151','0','GRAVADATA(DDATABASE, .F., 5)','.T.','040','{\"DATE()\",\"DDATABASE\"}','{\"DATE()\",\"DDATABASE\"}'})
	AADD(aRetCNAB, {'2','0','H','' ,'HR GERACAO ARQ ','152','157','0','STRTRAN(TIME(), \":\", \"\")','.F.','041','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'RESERVADO BANCO','158','166','0','0','.F.','042','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'DENSIDADE      ','167','171','0','\"00000\"','.F.','043','',''})
	AADD(aRetCNAB, {'2','0','H','' ,'RESERVADO BANCO','172','240','0','','.F.','044','',''})
// 20T - TRAILER DO ARQUIVO
	AADD(aRetCNAB, {'2','0','T','' ,'BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','045','',''})
	AADD(aRetCNAB, {'2','0','T','' ,'LOTE SERVICO   ','004','007','0','\"9999\"','.F.','046','',''})
	AADD(aRetCNAB, {'2','0','T','' ,'TIPO REGISTRO  ','008','008','0','\"9\"','.F.','047','',''})
	AADD(aRetCNAB, {'2','0','T','' ,'RESERVADO CNAB ','009','017','0','','.F.','048','',''})
	AADD(aRetCNAB, {'2','0','T','' ,'QTDE LOTES     ','018','023','0','FNLOTECNAB()','.F.','049','',''})
	AADD(aRetCNAB, {'2','0','T','' ,'QTDE REGISTROS ','024','029','0','FNLINCNAB()','.F.','050','',''})
	AADD(aRetCNAB, {'2','0','T','' ,'RESERVADO BANCO','030','240','0','','.F.','051','',''})
// 21H - HEADER DO LOTE A/B
	AADD(aRetCNAB, {'2','1','H','' ,'BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','052','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','053','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'TIPO REGISTRO  ','008','008','0','\"1\"','.F.','054','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'TIPO OPERACAO  ','009','009','0','\"C\"','.F.','055','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'TIPO SERVICO   ','010','011','0','SEA->EA_TIPOPAG','.F.','056','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'FORMA LANTO    ','012','013','0','SEA->EA_MODELO','.F.','057','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'LAYOUT LOTE    ','014','016','0','\"040\"','.F.','058','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'RESERVADO CNAB ','017','017','0','','.F.','059','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'TP INSC EMPRESA','018','018','0','IF(SM0->M0_TPINSC == 3, \"1\", \"2\")','.F.','060','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'NUM INSCRICAO  ','019','032','0','PADL(ALLTRIM(SM0->M0_CGC), 14, \"0\")','.F.','061','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'ID LANCTO      ','033','036','0','','.F.','062','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'RESERVADO BANCO','037','052','0','','.F.','063','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'AG MANTENEDORA ','053','057','0','PADL(ALLTRIM(SEA->EA_AGEDEP), 5, \"0\")','.F.','064','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'RESERVADO BANCO','058','058','0','','.F.','065','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'CONTA CORRENTE ','059','070','0','PADL(ALLTRIM(SEA->EA_NUMCON), 12, \"0\")','.F.','066','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'RESERVADO BANCO','071','071','0','','.F.','067','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'DV AG/CONTA    ','072','072','0','CNABDVCC()','.F.','068','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'NOME DA EMPRESA','073','102','0','SM0->M0_NOMECOM','.F.','069','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'FINALIDADE     ','103','132','0','','.F.','070','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'HISTORICO. C/C ','133','142','0','','.F.','071','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'ENDERECO       ','143','172','0','IF(EMPTY(SM0->M0_ENDENT), SM0->M0_ENDCOB, SM0->M0_ENDENT)','.F.','072','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'NUMERO         ','173','177','0','\"00000\"','.F.','073','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'COMPLEMENTO    ','178','192','0','SM0->M0_COMPENT','.F.','074','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'CIDADE         ','193','212','0','IF(EMPTY(SM0->M0_CIDENT), SM0->M0_CIDCOB, SM0->M0_CIDENT)','.F.','075','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'CEP            ','213','220','0','IF(EMPTY(SM0->M0_CEPENT), SM0->M0_CEPCOB, SM0->M0_CEPENT)','.F.','076','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'ESTADO         ','221','222','0','IF(EMPTY(SM0->M0_ESTENT), SM0->M0_ESTCOB, SM0->M0_ESTENT)','.F.','077','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'RESERVADO CNAB ','223','230','0','','.F.','078','',''})
	AADD(aRetCNAB, {'2','1','H','' ,'OCORRENCIAS    ','231','240','0','','.F.','079','',''})
// 21T - TRAILER DO LOTE A/B
	AADD(aRetCNAB, {'2','1','T','' ,'BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','080','',''})
	AADD(aRetCNAB, {'2','1','T','' ,'LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','081','',''})
	AADD(aRetCNAB, {'2','1','T','' ,'TIPO REGISTRO  ','008','008','0','\"5\"','.F.','082','',''})
	AADD(aRetCNAB, {'2','1','T','' ,'RESERVADO CNAB ','009','017','0','','.F.','083','',''})
	AADD(aRetCNAB, {'2','1','T','' ,'QTDE REGISTRO  ','018','023','0','FNREGLOTE()','.F.','084','',''})
	AADD(aRetCNAB, {'2','1','T','' ,'VALORES        ','024','041','0','SOMAVLLOTE()','.F.','085','',''})
	AADD(aRetCNAB, {'2','1','T','' ,'QTD MOEDAS     ','042','059','0','0','.F.','086','',''})
	AADD(aRetCNAB, {'2','1','T','' ,'RESERVADO BANCO','060','230','0','','.F.','087','',''})
	AADD(aRetCNAB, {'2','1','T','' ,'OCORRENCIAS    ','231','240','0','','.F.','088','',''})
// 22H - HEADER SEGMENTO J/J-52
	AADD(aRetCNAB, {'2','2','H','' ,'BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','089','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','090','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'TIPO REGISTRO  ','008','008','0','\"1\"','.F.','091','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'TIPO OPERACAO  ','009','009','0','\"C\"','.F.','092','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'TIPO SERVICO   ','010','011','0','SEA->EA_TIPOPAG','.F.','093','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'FORMA LANCTO   ','012','013','0','SEA->EA_MODELO','.F.','094','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'LAYOUT LOTE    ','014','016','0','\"030\"','.F.','095','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'RESERVADO CNAB ','017','017','0','','.F.','096','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'TP INSC EMPRESA','018','018','0','IF(SM0->M0_TPINSC == 3, \"1\", \"2\")','.F.','097','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'NUM INSCRICAO  ','019','032','0','PADL(ALLTRIM(SM0->M0_CGC), 14, \"0\")','.F.','098','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'RESERVADO BANCO','033','052','0','','.F.','099','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'AG MANTENEDORA ','053','057','0','PADL(ALLTRIM(SEA->EA_AGEDEP), 5, \"0\")','.F.','100','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'RESERVADO BANCO','058','058','0','','.F.','101','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'CONTA CORRENTE ','059','070','0','PADL(ALLTRIM(SEA->EA_NUMCON), 12, \"0\")','.F.','102','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'RESERVADO BANCO','071','071','0','','.F.','103','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'DV AG/CONTA    ','072','072','0','CNABDVCC()','.F.','104','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'NOME DA EMPRESA','073','102','0','SM0->M0_NOMECOM','.F.','105','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'FINALIDADE     ','103','132','0','','.F.','106','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'HISTORICO. C/C ','133','142','0','','.F.','107','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'ENDERECO       ','143','172','0','IF(EMPTY(SM0->M0_ENDENT), SM0->M0_ENDCOB, SM0->M0_ENDENT)','.F.','108','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'NUMERO         ','173','177','0','\"00000\"','.F.','109','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'COMPLEMENTO    ','178','192','0','SM0->M0_COMPENT','.F.','110','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'CIDADE         ','193','212','0','IF(EMPTY(SM0->M0_CIDENT), SM0->M0_CIDCOB, SM0->M0_CIDENT)','.F.','111','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'CEP            ','213','220','0','IF(EMPTY(SM0->M0_CEPENT), SM0->M0_CEPCOB, SM0->M0_CEPENT)','.F.','112','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'ESTADO         ','221','222','0','IF(EMPTY(SM0->M0_ESTENT), SM0->M0_ESTCOB, SM0->M0_ESTENT)','.F.','113','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'RESERVADO CNAB ','223','230','0','','.F.','114','',''})
	AADD(aRetCNAB, {'2','2','H','' ,'OCORRENCIAS    ','231','240','0','','.F.','115','',''})
// 22T - TRAILER SEGMENTO J/J-52
	AADD(aRetCNAB, {'2','2','T','' ,'BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','116','',''})
	AADD(aRetCNAB, {'2','2','T','' ,'LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','117','',''})
	AADD(aRetCNAB, {'2','2','T','' ,'TIPO REGISTRO  ','008','008','0','\"5\"','.F.','118','',''})
	AADD(aRetCNAB, {'2','2','T','' ,'RESERVADO CNAB ','009','017','0','','.F.','119','',''})
	AADD(aRetCNAB, {'2','2','T','' ,'QTDE REGISTRO  ','018','023','0','FNREGLOTE()','.F.','120','',''})
	AADD(aRetCNAB, {'2','2','T','' ,'VALORES        ','024','041','0','SOMAVLLOTE()','.F.','121','',''})
	AADD(aRetCNAB, {'2','2','T','' ,'QTD MOEDAS     ','042','059','0','0','.F.','122','',''})
	AADD(aRetCNAB, {'2','2','T','' ,'RESERVADO CNAB ','060','230','0','','.F.','123','',''})
	AADD(aRetCNAB, {'2','2','T','' ,'OCORRENCIAS    ','231','240','0','','.F.','124','',''})
// 21D1 - DETALHE A
	AADD(aRetCNAB, {'2','1','D','1','BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','125','',''})
	AADD(aRetCNAB, {'2','1','D','1','LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','126','',''})
	AADD(aRetCNAB, {'2','1','D','1','TIPO REGISTRO  ','008','008','0','\"3\"','.F.','127','',''})
	AADD(aRetCNAB, {'2','1','D','1','NUM REGISTRO   ','009','013','0','FNLINLOTE()','.F.','128','',''})
	AADD(aRetCNAB, {'2','1','D','1','SEGMENTO       ','014','014','0','\"A\"','.F.','129','',''})
	AADD(aRetCNAB, {'2','1','D','1','TIPO MOVIMENTO ','015','017','0','\"000\"','.F.','130','',''})
	AADD(aRetCNAB, {'2','1','D','1','COD CAMARA CENT','018','020','0','IF(SEA->EA_MODELO $ \"45\",\"009\",\"000\" )','.F.','131','',''})
	AADD(aRetCNAB, {'2','1','D','1','BANCO          ','021','023','0','IF(EMPTY(SE2->E2_FORCTA), SA2->A2_BANCO, SE2->E2_FORBCO)','.F.','132','',''})
	AADD(aRetCNAB, {'2','1','D','1','AG MANTENEDORA ','024','028','0','PADL(ALLTRIM(IF(EMPTY(SE2->E2_FORCTA), SA2->(RTRIM(A2_AGENCIA) + A2_DVAGE), SE2->(RTRIM(E2_FORAGE) + E2_FAGEDV))), 05, \"0\")','.F.','133','',''})
	AADD(aRetCNAB, {'2','1','D','1','DV AGENCIA     ','029','029','0','','.F.','134','',''})
	AADD(aRetCNAB, {'2','1','D','1','CONTA CORRENTE ','030','041','0','PADL(ALLTRIM(IF(EMPTY(SE2->E2_FORCTA), SA2->(RTRIM(A2_NUMCON) + A2_DVCTA),  SE2->(RTRIM(E2_FORCTA) + E2_FCTADV))), 12, \"0\")','.F.','135','',''})
	AADD(aRetCNAB, {'2','1','D','1','DV CONTA       ','042','042','0','','.F.','136','',''})
	AADD(aRetCNAB, {'2','1','D','1','DV AG/CONTA    ','043','043','0','CNABDVCC()','.F.','137','',''})
	AADD(aRetCNAB, {'2','1','D','1','NOME           ','044','073','0','SA2->A2_NOME','.T.','138','{\"A2_NREDUZ\",\"A2_NOME\"}','{\"A2_NREDUZ\",\"A2_NOME\"}'})
	AADD(aRetCNAB, {'2','1','D','1','ID TIT EMPRESA ','074','093','0','SE2->E2_IDCNAB','.F.','139','',''})
	AADD(aRetCNAB, {'2','1','D','1','DT PAGAMENTO   ','094','101','0','GRAVADATA(SE2->E2_VENCREA, .F., 5)','.T.','140','{\"E2_VENCTO\",\"E2_EMISSAO\",\"E2_VENCREA\"}','{\"E2_VENCTO\",\"E2_EMISSAO\",\"E2_VENCREA\"}'})
	AADD(aRetCNAB, {'2','1','D','1','TIPO MOEDA     ','102','104','0','\"BRL\"','.F.','141','',''})
	AADD(aRetCNAB, {'2','1','D','1','COD ISPB       ','105','112','0','','.F.','142','',''})
	AADD(aRetCNAB, {'2','1','D','1','CONTA PGTO PIX ','113','119','0','IF(SEA->EA_MODELO $ \"45\",FNRETPIX(3),\"\")','.F.','143','',''}) 
	AADD(aRetCNAB, {'2','1','D','1','VALOR DO PAGTO ','120','134','0','SE2->(E2_SALDO + E2_SDACRESC - E2_SDDECRESC) * 100','.T.','144','{\"E2_SALDO\",\"E2_VALOR\",\"E2_VLCRUZ\"}','{\"E2_SALDO\",\"E2_VALOR\",\"E2_VLCRUZ\"}'})
	AADD(aRetCNAB, {'2','1','D','1','ID TIT BANCO   ','135','149','0','','.F.','145','',''})
	AADD(aRetCNAB, {'2','1','D','1','COMP REGISTRO  ','150','154','0','','.F.','146','',''})
	AADD(aRetCNAB, {'2','1','D','1','DT REAL PAGTO  ','155','162','0','0','.T.','147','{\"E2_VENCTO\",\"E2_EMISSAO\",\"E2_VENCREA\"}','{\"E2_VENCTO\",\"E2_EMISSAO\",\"E2_VENCREA\"}'})
	AADD(aRetCNAB, {'2','1','D','1','VLR REAL PAGTO ','163','177','0','0','.F.','148','',''})
	AADD(aRetCNAB, {'2','1','D','1','FINAL DETALHE  ','178','197','0','','.F.','149','',''})
	AADD(aRetCNAB, {'2','1','D','1','NRO DOCUMENTO  ','198','203','0','0','.F.','150','',''})
	AADD(aRetCNAB, {'2','1','D','1','NRO FAVORECIDO ','204','217','0','PADL(ALLTRIM(SA2->A2_CGC), 14, \"0\")','.F.','151','',''})
	AADD(aRetCNAB, {'2','1','D','1','FINALIDADE DOC ','218','219','0','','.F.','152','',''})
	AADD(aRetCNAB, {'2','1','D','1','COD FINAL TED  ','220','224','0','\"00005\"','.F.','153','',''})
	AADD(aRetCNAB, {'2','1','D','1','COMP REGISTRO  ','225','229','0','','.F.','154','',''})
	AADD(aRetCNAB, {'2','1','D','1','AVISO          ','230','230','0','\"0\"','.F.','155','',''})
	AADD(aRetCNAB, {'2','1','D','1','OCORRENCIAS    ','231','240','0','','.F.','156','',''})
// 21D2 - DETALHE SEGMENTO B
	AADD(aRetCNAB, {'2','1','D','2','BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','157','',''})
	AADD(aRetCNAB, {'2','1','D','2','LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','158','',''})
	AADD(aRetCNAB, {'2','1','D','2','TIPO REGISTRO  ','008','008','0','\"3\"','.F.','159','',''})
	AADD(aRetCNAB, {'2','1','D','2','NUM REGISTRO   ','009','013','0','FNLINLOTE()','.F.','160','',''})
	AADD(aRetCNAB, {'2','1','D','2','SEGMENTO       ','014','014','0','\"B\"','.F.','161','',''})
	AADD(aRetCNAB, {'2','1','D','2','RESERVADO CNAB ','015','017','0','','.F.','162','',''})
	AADD(aRetCNAB, {'2','1','D','2','TIPO INSCRICAO ','018','018','0','IF(SA2->A2_TIPO == \"J\", \"2\", \"1\")','.F.','163','',''})
	AADD(aRetCNAB, {'2','1','D','2','NUM INSCRICAO  ','019','032','0','PADL(ALLTRIM(SA2->A2_CGC), 14, \"0\")','.F.','164','',''})
	AADD(aRetCNAB, {'2','1','D','2','ENDERECO       ','033','062','0','SA2->A2_END','.F.','165','',''})
	AADD(aRetCNAB, {'2','1','D','2','NUMERO         ','063','067','0','PADL(ALLTRIM(SA2->A2_NR_END), 5, \"0\")','.F.','166','',''})
	AADD(aRetCNAB, {'2','1','D','2','COMPLEMENTO    ','068','082','0','SA2->A2_COMPLEM','.F.','167','',''})
	AADD(aRetCNAB, {'2','1','D','2','BAIRRO         ','083','097','0','SA2->A2_BAIRRO','.F.','168','',''})
	AADD(aRetCNAB, {'2','1','D','2','CIDADE         ','098','117','0','SA2->A2_MUN','.F.','169','',''})
	AADD(aRetCNAB, {'2','1','D','2','CEP            ','118','125','0','SA2->A2_CEP','.F.','170','',''})
	AADD(aRetCNAB, {'2','1','D','2','ESTADO         ','126','127','0','SA2->A2_EST','.F.','171','',''})
	AADD(aRetCNAB, {'2','1','D','2','E-MAIL FAVOR   ','128','227','0','','.F.','172','',''})
	AADD(aRetCNAB, {'2','1','D','2','COMPL REGISTRO ','228','230','0','','.F.','173','',''})
	AADD(aRetCNAB, {'2','1','D','2','OCORRENCIAS    ','231','240','0','','.F.','174','',''})

	// 21D3 - DETALHE SEGMENTO B - PIX
	AADD(aRetCNAB, {'2','1','D','3','BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','175','',''})
	AADD(aRetCNAB, {'2','1','D','3','LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','176','',''})
	AADD(aRetCNAB, {'2','1','D','3','TIPO REGISTRO  ','008','008','0','\"3\"','.F.','177','',''})
	AADD(aRetCNAB, {'2','1','D','3','NUM REGISTRO   ','009','013','0','FNLINLOTE()','.F.','178','',''})
	AADD(aRetCNAB, {'2','1','D','3','SEGMENTO       ','014','014','0','\"B\"','.F.','179','',''})
	AADD(aRetCNAB, {'2','1','D','3','TIPO CHAVE PIX ','015','017','0','IF(SEA->EA_MODELO $ \"45\",FNRETPIX(1),\"\")','.F.','180','',''}) // PIX - NOTA 37
	AADD(aRetCNAB, {'2','1','D','3','TIPO INSCRICAO ','018','018','0','IF(SA2->A2_TIPO == \"J\", \"2\", \"1\")','.F.','181','',''})
	AADD(aRetCNAB, {'2','1','D','3','NUM INSCRICAO  ','019','032','0','PADL(ALLTRIM(SA2->A2_CGC), 14, \"0\")','.F.','182','',''})
	AADD(aRetCNAB, {'2','1','D','3','ENDERECO       ','033','062','0','SA2->A2_END','.F.','183','',''})
	AADD(aRetCNAB, {'2','1','D','3','NUMERO         ','063','067','0','','.F.','184','',''})
	AADD(aRetCNAB, {'2','1','D','3','COMPLEMENTO    ','068','082','0','','.F.','185','',''})
	AADD(aRetCNAB, {'2','1','D','3','BAIRRO         ','083','097','0','','.F.','186','',''})
	AADD(aRetCNAB, {'2','1','D','3','CIDADE         ','098','117','0','','.F.','187','',''})
	AADD(aRetCNAB, {'2','1','D','3','CEP            ','118','125','0','','.F.','188','',''})
	AADD(aRetCNAB, {'2','1','D','3','ESTADO         ','126','127','0','','.F.','189','',''})
	AADD(aRetCNAB, {'2','1','D','3','CHAVE PIX      ','128','227','0','FNRETPIX(2)','.F.','190','',''}) 
	AADD(aRetCNAB, {'2','1','D','3','COMPL REGISTRO ','228','230','0','','.F.','191','',''})
	AADD(aRetCNAB, {'2','1','D','3','OCORRENCIAS    ','231','240','0','','.F.','192','',''})
// 22D1 - DETALHE SEGMENTO J
	AADD(aRetCNAB, {'2','2','D','1','BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','193','',''})
	AADD(aRetCNAB, {'2','2','D','1','LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','194','',''})
	AADD(aRetCNAB, {'2','2','D','1','TIPO REGISTRO  ','008','008','0','\"3\"','.F.','195','',''})
	AADD(aRetCNAB, {'2','2','D','1','NUM REGISTRO   ','009','013','0','FNLINLOTE()','.F.','196','',''})
	AADD(aRetCNAB, {'2','2','D','1','SEGMENTO       ','014','014','0','\"J\"','.F.','197','',''})
	AADD(aRetCNAB, {'2','2','D','1','TIPO MOVIMENTO ','015','017','0','\"000\"','.F.','198','',''})
	AADD(aRetCNAB, {'2','2','D','1','COD BARRAS     ','018','061','0','PADL(SE2->E2_CODBAR, 44, \"0\")','.F.','199','',''})
	AADD(aRetCNAB, {'2','2','D','1','NOME CEDENTE   ','062','091','0','SA2->A2_NOME','.T.','200','{\"A2_NREDUZ\",\"A2_NOME\"}','{\"A2_NREDUZ\",\"A2_NOME\"}'})
	AADD(aRetCNAB, {'2','2','D','1','VENCIMENTO     ','092','099','0','GRAVADATA(SE2->E2_VENCTO, .F., 5)','.T.','201','{\"E2_VENCTO\",\"E2_EMISSAO\",\"E2_VENCREA\"}','{\"E2_VENCTO\",\"E2_EMISSAO\",\"E2_VENCREA\"}'})
	AADD(aRetCNAB, {'2','2','D','1','VALOR          ','100','114','0','SE2->E2_SALDO * 100','.T.','202','{\"E2_SALDO\",\"E2_VALOR\",\"E2_VLCRUZ\"}','{\"E2_SALDO\",\"E2_VALOR\",\"E2_VLCRUZ\"}'})
	AADD(aRetCNAB, {'2','2','D','1','ABATIMENTO     ','115','129','0','SE2->E2_SDDECRESC * 100','.F.','203','',''})
	AADD(aRetCNAB, {'2','2','D','1','MORA           ','130','144','0','SE2->E2_SDACRESC * 100','.F.','204','',''})
	AADD(aRetCNAB, {'2','2','D','1','DATA PAGAMENTO ','145','152','0','GRAVADATA(SE2->E2_VENCREA, .F., 5)','.T.','205','{\"E2_VENCTO\",\"E2_EMISSAO\",\"E2_VENCREA\"}','{\"E2_VENCTO\",\"E2_EMISSAO\",\"E2_VENCREA\"}'})
	AADD(aRetCNAB, {'2','2','D','1','VALOR DO PAGTO ','153','167','0','SE2->(E2_SALDO + E2_SDACRESC - E2_SDDECRESC) * 100','.T.','206','{\"E2_SALDO\",\"E2_VALOR\",\"E2_VLCRUZ\"}','{\"E2_SALDO\",\"E2_VALOR\",\"E2_VLCRUZ\"}'})
	AADD(aRetCNAB, {'2','2','D','1','QTD MOEDA      ','168','182','0','0','.F.','207','',''})
	AADD(aRetCNAB, {'2','2','D','1','ID TIT EMPRESA ','183','202','0','SE2->E2_IDCNAB','.F.','208','',''})
	AADD(aRetCNAB, {'2','2','D','1','RESERVADO BANCO','203','215','0','','.F.','209','',''})
	AADD(aRetCNAB, {'2','2','D','1','ID TIT BANCO   ','216','230','0','','.F.','210','',''})
	AADD(aRetCNAB, {'2','2','D','1','OCORRENCIA     ','231','240','0','','.F.','211','',''})
// 22D2 - DETALHE SEGMENTO J-52
	AADD(aRetCNAB, {'2','2','D','2','BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','212','',''})
	AADD(aRetCNAB, {'2','2','D','2','LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','213','',''})
	AADD(aRetCNAB, {'2','2','D','2','TIPO REGISTRO  ','008','008','0','\"3\"','.F.','214','',''})
	AADD(aRetCNAB, {'2','2','D','2','NUM REGISTRO   ','009','013','0','FNLINLOTE()','.F.','215','',''})
	AADD(aRetCNAB, {'2','2','D','2','SEGMENTO       ','014','014','0','\"J\"','.F.','216','',''})
	AADD(aRetCNAB, {'2','2','D','2','TIPO MOVIMENTO ','015','017','0','SEA->EA_MODELO','.F.','217','',''})
	AADD(aRetCNAB, {'2','2','D','2','ID REGISTRO    ','018','019','0','\"52\"','.F.','218','',''})
	AADD(aRetCNAB, {'2','2','D','2','TP INSC PAGADOR','020','020','0','IF(SM0->M0_TPINSC == 3, \"1\", \"2\")','.F.','219','',''})
	AADD(aRetCNAB, {'2','2','D','2','NUM INSC PAG   ','021','035','0','PADL(ALLTRIM(SM0->M0_CGC), 14, \"0\")','.F.','220','',''})
	AADD(aRetCNAB, {'2','2','D','2','NOME PAGADOR   ','036','075','0','SM0->M0_NOMECOM','.F.','221','',''})
	AADD(aRetCNAB, {'2','2','D','2','TP INSC BENEF  ','076','076','0','IF(SA2->A2_TIPO == \"F\", \"1\", \"2\")','.F.','222','',''})
	AADD(aRetCNAB, {'2','2','D','2','NUM INSC BENEF ','077','091','0','PADL(ALLTRIM(SA2->A2_CGC), 15, \"0\")','.F.','223','',''})
	AADD(aRetCNAB, {'2','2','D','2','NOME BENEF     ','092','131','0','SA2->A2_NOME','.T.','224','{\"A2_NREDUZ\",\"A2_NOME\"}','{\"A2_NREDUZ\",\"A2_NOME\"}'})
	AADD(aRetCNAB, {'2','2','D','2','TP INSC AVAL   ','132','132','0','\"0\"','.F.','225','',''})
	AADD(aRetCNAB, {'2','2','D','2','NUM INSC AVAL  ','133','147','0','0','.F.','226','',''})
	AADD(aRetCNAB, {'2','2','D','2','NOME AVAL      ','148','187','0','','.F.','227','',''})
	AADD(aRetCNAB, {'2','2','D','2','RESERVADO CNAB ','188','240','0','','.F.','228','',''})
// 22D3 - DETALHE SEGMENTO J-52 PIX
	AADD(aRetCNAB, {'2','2','D','3','BANCO          ','001','003','0','SEE->EE_CODIGO','.F.','229','',''})
	AADD(aRetCNAB, {'2','2','D','3','LOTE SERVICO   ','004','007','0','FNLOTECNAB()','.F.','230','',''}) 
	AADD(aRetCNAB, {'2','2','D','3','TIPO REGISTRO  ','008','008','0','\"3\"','.F.','231','',''})
	AADD(aRetCNAB, {'2','2','D','3','NUM REGISTRO   ','009','013','0','FNLINLOTE()','.F.','232','',''}) 
	AADD(aRetCNAB, {'2','2','D','3','SEGMENTO       ','014','014','0','\"J\"','.F.','233','',''})
	AADD(aRetCNAB, {'2','2','D','3','TIPO MOVIMENTO ','015','017','0','\"000\"','.F.','234','',''}) 
	AADD(aRetCNAB, {'2','2','D','3','ID REGISTRO    ','018','019','0','\"52\"','.F.','235','',''})
	AADD(aRetCNAB, {'2','2','D','3','TP INSC PAGADOR','020','020','0','IF(SM0->M0_TPINSC == 3, \"1\", \"2\")','.F.','236','',''})
	AADD(aRetCNAB, {'2','2','D','3','NUM INSC PAG   ','021','035','0','PADL(ALLTRIM(SM0->M0_CGC), 14, \"0\")','.F.','237','',''})
	AADD(aRetCNAB, {'2','2','D','3','NOME PAGADOR   ','036','075','0','SM0->M0_NOMECOM','.F.','238','',''})
	AADD(aRetCNAB, {'2','2','D','3','TP INSC BENEF  ','076','076','0','IF(SA2->A2_TIPO == \"F\", \"1\", \"2\")','.F.','239','',''})
	AADD(aRetCNAB, {'2','2','D','3','NUM INSC BENEF ','077','091','0','PADL(ALLTRIM(SA2->A2_CGC), 15, \"0\")','.F.','240','',''})
	AADD(aRetCNAB, {'2','2','D','3','NOME BENEF     ','092','131','0','','.T.','241','',''})
	AADD(aRetCNAB, {'2','2','D','3','CHAVE DE PAGTO ','132','208','0','FNURLPIX()','.F.','242','',''}) 
	AADD(aRetCNAB, {'2','2','D','3','TXID QRCODE    ','209','240','0','','.F.','243','',''}) 

Return aRetCNAB 

