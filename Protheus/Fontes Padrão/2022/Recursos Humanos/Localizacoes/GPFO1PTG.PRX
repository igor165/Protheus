/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁGpFo1PTG      ЁAutorЁ Gerado pelo sistema Ё Data Ё04/12/2012Ё
цддддддддддеддддддддддддддадддддадддддддддддддддддддддаддддддадддддддддд╢
ЁDescri┤┘o ЁPrograma de Continuacao das formulas                        Ё
цддддддддддедддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд╢
ЁSintaxe   Ё                                                            Ё
цддддддддддедддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд╢
ЁParametrosЁ<Vide Parametros Formais>                                   Ё
цддддддддддедддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд╢
Ё Uso      ЁGenerico                                                    Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0111    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0111( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALARIOD','SALARIO DIA DOS FUNCIONARIOS','SALDIA','001066','003','2','1',} )

aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_TIPOPGT == "M" .AND.','000001','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','==','5','"M"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_CATFUNC $ "M*C*P*A*E" .END.','000002','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"M*C*P*A*E"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','sra->ra_salario / 30   .END.','000003','000002','.EXE.','1','sra->ra_salario','/','5','30','','1','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_TIPOPGT = "S" .AND.','000004','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','=','5','"S"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_CATFUNC = "S" .END.','000005','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"S"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_SALARIO / 7   .END.','000006','000005','.EXE.','1','SRA->RA_SALARIO','/','5','7','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_CATFUNC $ "H*T*G" .END.','000007','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"H*T*G"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_SALARIO * SRA->RA_HRSMES / 30 .END.','000008','000007','.EXE.','1','SRA->RA_SALARIO','*','1','SRA->RA_HRSMES','/','5','30','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_CATFUNC = "D" .END.','000009','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"D"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOD','SRA->RA_SALARIO     .END.','000010','000009','.EXE.','1','SRA->RA_SALARIO','','5','','','1','','.END.','PMSTASK4','PMSTASK4',} )


dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0112    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0112( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALARIOH','SALARIO HORA DOS FUNCIONARIOS','SALHORA','001067','004','2','1',} )

aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_TIPOPGT == "M" .AND.','000001','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','==','5','"M"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_CATFUNC $ "M*C*P*A*E" .END.','000002','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"M*C*P*A*E"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','sra->ra_salario / SRA->RA_HRSMES   .END.','000003','000002','.EXE.','1','sra->ra_salario','/','1','SRA->RA_HRSMES','','1','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_TIPOPGT = "S" .AND.','000004','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','=','5','"S"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_CATFUNC = "S" .END.','000005','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"S"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SALHORA := SRA->RA_SALARIO / 7 .CNT.','000006','000005','.EXE.','2','SALHORA',':=','1','SRA->RA_SALARIO','/','5','7','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SALHORA *= 30 / SRA->RA_HRSMES .END.','000007','000005','.EXE.','2','SALHORA','*=','5','30','/','1','SRA->RA_HRSMES','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_CATFUNC $ "H*T*G" .END.','000008','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"H*T*G"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_SALARIO     .END.','000009','000008','.EXE.','1','SRA->RA_SALARIO','','5','','','1','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_CATFUNC = "D" .END.','000010','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"D"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOH','SRA->RA_SALARIO * 30 / SRA->RA_HRSMES .END.','000011','000010','.EXE.','1','SRA->RA_SALARIO','*','5','30','/','1','SRA->RA_HRSMES','.END.','PMSTASK4','PMSTASK4',} )


dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0113    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0113( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALARIOM','SALARIO MENSAL DOS FUNCIONARIO','','001068','008','2','1',} )

aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_TIPOPGT == "M" .AND.','000001','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','==','5','"M"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC $ "M*C*P*A*E" .END.','000002','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"M*C*P*A*E"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := sra->ra_salario   .CNT.','000003','000002','.EXE.','5','SALMES',':=','5','sra->ra_salario','','1','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000004','000002','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000005','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_TIPOPGT = "S" .AND.','000006','000000','.CON.','2','','','1','SRA->RA_TIPOPGT','=','5','"S"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC = "S" .END.','000007','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"S"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := SRA->RA_SALARIO / 7 * 30 .CNT.','000008','000007','.EXE.','5','SALMES := SRA->RA_SALARIO','/','5','7','*','5','30','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000009','000007','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000010','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC $ "H*T*G" .AND.','000011','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"H*T*G"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','cTipoRot == "1" .END.','000012','000000','.CON.','2','','','5','cTipoRot','==','5','"1"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','NCOMPHRS := nHorasTrab + nHorasDSR .CNT.','000013','000012','.EXE.','2','NCOMPHRS',':=','5','nHorasTrab','+','5','nHorasDSR','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := SRA->RA_SALARIO * NCOMPHRS   .CNT.','000014','000012','.EXE.','5','SALMES := SRA->RA_SALARIO','*','2','NCOMPHRS','','1','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000015','000012','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000016','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC == "H" .AND.','000017','000000','.CON.','2','','','1','SRA->RA_CATFUNC','==','5','"H"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','cTipoRot == "2I" .AND.','000018','000000','.CON.','2','','','5','cTipoRot','==','5','"2I"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','cCompMes == "S" .AND.','000019','000000','.CON.','2','','','2','cCompMes','==','5','"S"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','cTip == "B" .END.','000020','000000','.CON.','2','','','2','cTip','==','5','"B"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','NCOMPHRS := nHorasTrab + nHorasDSR .CNT.','000021','000020','.EXE.','2','NCOMPHRS',':=','5','nHorasTrab','+','5','nHorasDSR','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := SRA->RA_SALARIO * NCOMPHRS   .CNT.','000022','000020','.EXE.','5','SALMES := SRA->RA_SALARIO','*','2','NCOMPHRS','','1','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000023','000020','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000024','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC $ "H*T*G" .END.','000025','000000','.CON.','2','','','1','SRA->RA_CATFUNC','$','5','"H*T*G"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := SRA->RA_SALARIO * SRA->RA_HRSMES   .CNT.','000026','000025','.EXE.','5','SALMES := SRA->RA_SALARIO','*','1','SRA->RA_HRSMES','','1','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','lExec := .T.     .END.','000027','000025','.EXE.','5','lExec := .T.','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','!lExec   .AND.','000028','000000','.CON.','2','','','5','!lExec','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SRA->RA_CATFUNC = "D" .END.','000029','000000','.CON.','2','','','1','SRA->RA_CATFUNC','=','5','"D"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALARIOM','SALMES := SRA->RA_SALARIO * 30   .END.','000030','000029','.EXE.','5','SALMES := SRA->RA_SALARIO','*','5','30','','1','','.END.','PMSTASK4','PMSTASK4',} )


dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0114    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0114( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALDISS','SALARIO DISSIDIO','','','011','2','1',} )

aAdd(aRc3Cols, { '','S_','SALDISS','lDissidio   .END.','000001','000000','.CON.','5','','','5','lDissidio','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALDISS','fSalDiss(@Salario,@SalHora,@SalDia,@SalMes)     .CNT.','000002','000001','.EXE.','5','fSalDiss(@Salario,@SalHora,@SalDia,@SalMes)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISS','aPerAberto:= {}     .CNT.','000003','000001','.EXE.','5','aPerAberto:= {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISS','aPerFechado:= {}     .CNT.','000004','000001','.EXE.','5','aPerFechado:= {}','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISS','fRetPerComp( SubStr(cPeriodo,5,2), SubStr(cPeriodo,1,4), Nil','000005','000001','.EXE.','5','fRetPerComp( SubStr(cPeriodo,5,2), SubStr(cPeriodo,1,4), Nil, Nil, Nil, @aPerAberto, @aPerFechado)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALDISS','aPDOld:= RetornaVerbasFunc(SRA->RA_FILIAL, SRA->RA_MAT, NIL,','000006','000001','.EXE.','5','aPDOld:= RetornaVerbasFunc(SRA->RA_FILIAL, SRA->RA_MAT, NIL, "FOL", NIL, aPerAberto, aPerFechado)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0115    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0115( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALINC','SALARIO INCORPORADO','','','001','2','1',} )

aAdd(aRc3Cols, { '','S_','SALINC','S_CARGASRC()     .CNT.','000001','000000','.EXE.','5','S_CARGASRC()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGASRK()     .CNT.','000002','000000','.EXE.','5','S_CARGASRK()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGARGB()     .CNT.','000003','000000','.EXE.','5','S_CARGARGB()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGARCH()     .CNT.','000004','000000','.EXE.','5','S_CARGARCH()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGATAB()     .CNT.','000005','000000','.EXE.','5','S_CARGATAB()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGARCF()     .CNT.','000006','000000','.EXE.','5','S_CARGARCF()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGARCM()     .CNT.','000007','000000','.EXE.','5','S_CARGARCM()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGASRF()     .CNT.','000008','000000','.EXE.','5','S_CARGASRF()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGASR8()     .CNT.','000009','000000','.EXE.','5','S_CARGASR8()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGASRB()     .CNT.','000010','000000','.EXE.','5','S_CARGASRB()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGASRO()     .CNT.','000011','000000','.EXE.','5','S_CARGASRO()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CARGARG1()     .CNT.','000012','000000','.EXE.','5','S_CARGARG1()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_PROCRGB()     .CNT.','000013','000000','.EXE.','5','S_PROCRGB()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_PROCSR8()     .CNT.','000014','000000','.EXE.','5','S_PROCSR8()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_DIASTRAB()     .CNT.','000015','000000','.EXE.','5','S_DIASTRAB()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_SALARIOM()     .CNT.','000016','000000','.EXE.','5','S_SALARIOM()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_SALARIOD()     .CNT.','000017','000000','.EXE.','5','S_SALARIOD()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_SALARIOH()     .CNT.','000018','000000','.EXE.','5','S_SALARIOH()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_SALARIOB()     .CNT.','000019','000000','.EXE.','5','S_SALARIOB()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_SALDISS()     .CNT.','000020','000000','.EXE.','5','S_SALDISS()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_SALMIN()     .CNT.','000021','000000','.EXE.','5','S_SALMIN()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_CALCDSR()     .CNT.','000022','000000','.EXE.','5','S_CALCDSR()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_GRAVASAL()     .CNT.','000023','000000','.EXE.','5','S_GRAVASAL()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_PROCSRO()     .CNT.','000024','000000','.EXE.','5','S_PROCSRO()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_GRVTAREF()     .CNT.','000025','000000','.EXE.','5','S_GRVTAREF()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_PROCTARV()     .CNT.','000026','000000','.EXE.','5','S_PROCTARV()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_BASEATVV()     .CNT.','000027','000000','.EXE.','5','S_BASEATVV()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_GRVATVPV()     .CNT.','000028','000000','.EXE.','5','S_GRVATVPV()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_BASEATVF()     .CNT.','000029','000000','.EXE.','5','S_BASEATVF()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_GRVATVPF()     .CNT.','000030','000000','.EXE.','5','S_GRVATVPF()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_BASEDSRT()     .CNT.','000031','000000','.EXE.','5','S_BASEDSRT()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_GRVDSRTA()     .CNT.','000032','000000','.EXE.','5','S_GRVDSRTA()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_PROPTARE()     .CNT.','000033','000000','.EXE.','5','S_PROPTARE()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_PROCRG1()     .CNT.','000034','000000','.EXE.','5','S_PROCRG1()','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALINC','S_PROCSRC()     .END.','000035','000000','.EXE.','5','S_PROCSRC()','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0116    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0116( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALMED','SALARIO COMPOSTO PARA MEDIA','','','005','2','1',} )

aAdd(aRc3Cols, { '','S_','SALMED','( CTIPOROT $ "1*3" ) .AND. ( P_NINCMED > 0 )   .END.','000001','000000','.CON.','5','','','5','( CTIPOROT $ "1*3" ) .AND. ( P_NINCMED > 0 )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMED','SALHORA := ( SRA->RA_SALARIO + P_NINCMED ) / SRA->RA_HRSMES','000002','000001','.EXE.','5','SALHORA := ( SRA->RA_SALARIO + P_NINCMED ) / SRA->RA_HRSMES','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0117    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0117( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SALMIN','SALARIO MINIMO','VAL_SALMIN','000268','011','2','1',} )

aAdd(aRc3Cols, { '','S_','SALMIN','VAL_SALMIN := FTABELA("S014",1,4, dDataRef)     .CNT.','000001','000000','.EXE.','5','VAL_SALMIN := FTABELA("S014",1,4, dDataRef)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SALMIN','Type("VAL_SALMIN") = "U" .END.','000002','000000','.CON.','5','','','5','Type("VAL_SALMIN")','=','5','"U"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SALMIN','VAL_SALMIN := 0   .END.','000003','000002','.EXE.','5','VAL_SALMIN',':=','5','0','','5','','.END.','PMSTASK4','PMSTASK4',} )


dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0118    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0118( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SEGSOCIA','CALCULO DE SEGURO SOCIAL','','','021','2','1',} )

aAdd(aRc3Cols, { '','S_','SEGSOCIA','nAux := 0     .CNT.','000001','000000','.EXE.','5','nAux := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nPerSSFun := 0     .CNT.','000002','000000','.EXE.','5','nPerSSFun := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nPerSSEmp := 0     .CNT.','000003','000000','.EXE.','5','nPerSSEmp := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSS := 0     .CNT.','000004','000000','.EXE.','5','nBaseSS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS := 0     .CNT.','000005','000000','.EXE.','5','nVlMaxSS := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSSFer := 0     .CNT.','000006','000000','.EXE.','5','nBaseSSFer := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSS13 := 0     .CNT.','000007','000000','.EXE.','5','nBaseSS13 := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFun := 0     .CNT.','000008','000000','.EXE.','5','nVlSSFun := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFer := 0     .CNT.','000009','000000','.EXE.','5','nVlSSFer := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSS13 := 0     .CNT.','000010','000000','.EXE.','5','nVlSS13 := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','!Empty(SRA->RA_CODSS)   .END.','000011','000000','.CON.','5','','','5','!Empty(SRA->RA_CODSS)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nAux := fPosTab("S001", SRA->RA_CODSS, "=" , 4 )     .CNT.','000012','000011','.EXE.','5','nAux := fPosTab("S001", SRA->RA_CODSS, "=" , 4 )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nAux > 0   .END.','000013','000011','.CON.','5','','','5','nAux > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nPerSSFun := If( FTABELA( "S001", nAux,7, DDATAREF) <> NIL,','000014','000013','.EXE.','5','nPerSSFun := If( FTABELA( "S001", nAux,7, DDATAREF) <> NIL, FTABELA("S001", nAux, 7, DDATAREF),  FTABELA("S001", nAux,7 ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nPerSSEmp := If( FTABELA( "S001", nAux,6, DDATAREF) <> NIL,','000015','000013','.EXE.','5','nPerSSEmp := If( FTABELA( "S001", nAux,6, DDATAREF) <> NIL, FTABELA("S001", nAux, 6, DDATAREF),  FTABELA("S001", nAux,6 ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS :=  If( FTABELA( "S001", nAux,8, DDATAREF) <> NIL,','000016','000013','.EXE.','5','nVlMaxSS :=  If( FTABELA( "S001", nAux,8, DDATAREF) <> NIL, FTABELA("S001", nAux, 8, DDATAREF),  FTABELA("S001", nAux, 8 ) )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','LIF1 := (P_SEPSSFER = "N") .AND. (P_SEPSSNAT = "N")   .END','000017','000013','.CON.','5','','','5','LIF1 := (P_SEPSSFER = "N") .AND. (P_SEPSSNAT = "N")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','NBASESS := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS"},','000018','000017','.EXE.','5','NBASESS := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS"}, {"S"} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSS > 0   .END.','000019','000017','.CON.','5','','','5','nBaseSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFun := (nBaseSS * nPerSSFun ) / 100     .CNT.','000020','000019','.EXE.','5','nVlSSFun := (nBaseSS * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSEmpr := (nBaseSS * nPerSSEmp) /100     .CNT.','000021','000019','.EXE.','5','nVlSSEmpr := (nBaseSS * nPerSSEmp) /100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000022','000019','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFun := If(nVlMaxSS < nVlSSFun , nVlMaxSS , nVlSSFun )','000023','000022','.EXE.','5','nVlSSFun := If(nVlMaxSS < nVlSSFun , nVlMaxSS , nVlSSFun )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','LIF2 := (P_SEPSSFER = "N") .AND. (P_SEPSSNAT = "S")   .END','000024','000013','.CON.','5','','','5','LIF2 := (P_SEPSSFER = "N") .AND. (P_SEPSSNAT = "S")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','cTipoRot $ "1/3/4"   .END.','000025','000024','.CON.','5','','','5','cTipoRot $ "1/3/4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','NBASESS := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "','000026','000025','.EXE.','5','NBASESS := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "RV_REF13"}, {"S", "N* "} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSS > 0   .END.','000027','000025','.CON.','5','','','5','nBaseSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFun := (nBaseSS * nPerSSFun ) / 100     .CNT.','000028','000027','.EXE.','5','nVlSSFun := (nBaseSS * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSEmpr := (nBaseSS * nPerSSEmp) /100     .CNT.','000029','000027','.EXE.','5','nVlSSEmpr := (nBaseSS * nPerSSEmp) /100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000030','000027','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFun := If(nVlMaxSS < nVlSSFun , nVlMaxSS , nVlSSFun )','000031','000030','.EXE.','5','nVlSSFun := If(nVlMaxSS < nVlSSFun , nVlMaxSS , nVlSSFun )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','cTipoRot $ "4/6"   .END.','000032','000024','.CON.','5','','','5','cTipoRot $ "4/6"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','NBASESS13 := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS",','000033','000032','.EXE.','5','NBASESS13 := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "RV_REF13"}, {"S", "S"} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSS13 > 0   .END.','000034','000032','.CON.','5','','','5','nBaseSS13 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSS13 := (nBaseSS13 * nPerSSFun ) / 100     .CNT.','000035','000034','.EXE.','5','nVlSS13 := (nBaseSS13 * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSEmp13 := (nBaseSS13 * nPerSSEmp) / 100     .CNT.','000036','000034','.EXE.','5','nVlSSEmp13 := (nBaseSS13 * nPerSSEmp) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000037','000034','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSS13 := If(nVlMaxSS < nVlSS13 , nVlMaxSS , nVlSS13 )','000038','000037','.EXE.','5','nVlSS13 := If(nVlMaxSS < nVlSS13 , nVlMaxSS , nVlSS13 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','LIF3 := (P_SEPSSFER = "S") .AND. (P_SEPSSNAT = "N")   .END','000039','000013','.CON.','5','','','5','LIF3 := (P_SEPSSFER = "S") .AND. (P_SEPSSNAT = "N")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','cTipoRot $ "1/4/6"   .END.','000040','000039','.CON.','5','','','5','cTipoRot $ "1/4/6"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','NBASESS := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "','000041','000040','.EXE.','5','NBASESS := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "RV_REFFER"}, {"S", "N* "} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSS > 0   .END.','000042','000040','.CON.','5','','','5','nBaseSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFun := (nBaseSS * nPerSSFun ) / 100     .CNT.','000043','000042','.EXE.','5','nVlSSFun := (nBaseSS * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSEmpr := (nBaseSS * nPerSSEmp) /100     .CNT.','000044','000042','.EXE.','5','nVlSSEmpr := (nBaseSS * nPerSSEmp) /100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000045','000042','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFun := If(nVlMaxSS < nVlSSFun , nVlMaxSS , nVlSSFun )','000046','000045','.EXE.','5','nVlSSFun := If(nVlMaxSS < nVlSSFun , nVlMaxSS , nVlSSFun )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','cTipoRot $ "3/4"   .END.','000047','000039','.CON.','5','','','5','cTipoRot $ "3/4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','NBASESSFer := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS"','000048','000047','.EXE.','5','NBASESSFer := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "RV_REFFER"}, {"S", "S"} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSSFer > 0   .END.','000049','000047','.CON.','5','','','5','nBaseSSFer > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSSFer > 0   .END.','000050','000049','.CON.','5','','','5','nBaseSSFer > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFer := (nBaseSSFer * nPerSSFun ) / 100     .CNT.','000051','000050','.EXE.','5','nVlSSFer := (nBaseSSFer * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000052','000050','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFer := If(nVlMaxSS < nVlSSFer , nVlMaxSS , nVlSSFer )','000053','000052','.EXE.','5','nVlSSFer := If(nVlMaxSS < nVlSSFer , nVlMaxSS , nVlSSFer )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFer := (nBaseSSFer * nPerSSFun ) / 100     .CNT.','000054','000049','.EXE.','5','nVlSSFer := (nBaseSSFer * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000055','000049','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFer := If(nVlMaxSS < nVlSSFer , nVlMaxSS , nVlSSFer )','000056','000055','.EXE.','5','nVlSSFer := If(nVlMaxSS < nVlSSFer , nVlMaxSS , nVlSSFer )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSS13 > 0   .END.','000057','000057','.CON.','5','','','5','nBaseSS13 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSS13 := (nBaseSS13 * nPerSSFun ) / 100     .CNT.','000058','000057','.EXE.','5','nVlSS13 := (nBaseSS13 * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSEmp13 := (nBaseSS13 * nPerSSEmp) / 100     .CNT.','000059','000057','.EXE.','5','nVlSSEmp13 := (nBaseSS13 * nPerSSEmp) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000060','000057','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSS13 := If(nVlMaxSS < nVlSS13 , nVlMaxSS , nVlSS13 )','000061','000060','.EXE.','5','nVlSS13 := If(nVlMaxSS < nVlSS13 , nVlMaxSS , nVlSS13 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','LIF4 := (P_SEPSSFER = "S") .AND. (P_SEPSSNAT = "S")   .END','000062','000013','.CON.','5','','','5','LIF4 := (P_SEPSSFER = "S") .AND. (P_SEPSSNAT = "S")','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','cTipoRot $ "1/4"   .END.','000063','000062','.CON.','5','','','5','cTipoRot $ "1/4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','NBASESS := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "','000064','000063','.EXE.','5','NBASESS := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "RV_REFFER", "RV_REF13"}, {"S", "N* ", "N* "} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSS > 0   .END.','000065','000063','.CON.','5','','','5','nBaseSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFun := (nBaseSS * nPerSSFun ) / 100     .CNT.','000066','000065','.EXE.','5','nVlSSFun := (nBaseSS * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSEmpr := (nBaseSS * nPerSSEmp) /100     .CNT.','000067','000065','.EXE.','5','nVlSSEmpr := (nBaseSS * nPerSSEmp) /100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000068','000065','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFun := If(nVlMaxSS < nVlSSFun , nVlMaxSS , nVlSSFun )','000069','000068','.EXE.','5','nVlSSFun := If(nVlMaxSS < nVlSSFun , nVlMaxSS , nVlSSFun )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','cTipoRot $ "3/4"   .END.','000070','000062','.CON.','5','','','5','cTipoRot $ "3/4"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','NBASESSFer := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS"','000071','000070','.EXE.','5','NBASESSFer := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "RV_REFFER", "RV_REF13"}, {"S", "S", "N* "} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSSFer > 0   .END.','000072','000070','.CON.','5','','','5','nBaseSSFer > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSSFer > 0   .END.','000073','000072','.CON.','5','','','5','nBaseSSFer > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFer := (nBaseSSFer * nPerSSFun ) / 100     .CNT.','000074','000073','.EXE.','5','nVlSSFer := (nBaseSSFer * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000075','000073','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFer := If(nVlMaxSS < nVlSSFer , nVlMaxSS , nVlSSFer )','000076','000075','.EXE.','5','nVlSSFer := If(nVlMaxSS < nVlSSFer , nVlMaxSS , nVlSSFer )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFer := (nBaseSSFer * nPerSSFun ) / 100     .CNT.','000077','000072','.EXE.','5','nVlSSFer := (nBaseSSFer * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000078','000072','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSFer := If(nVlMaxSS < nVlSSFer , nVlMaxSS , nVlSSFer )','000079','000078','.EXE.','5','nVlSSFer := If(nVlMaxSS < nVlSSFer , nVlMaxSS , nVlSSFer )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','cTipoRot $ "4/6"   .END.','000080','000062','.CON.','5','','','5','cTipoRot $ "4/6"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','NBASESS13 := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS",','000081','000080','.EXE.','5','NBASESS13 := FO_SOMAINCSRV(@&COBJETO, CCPOVALOR, {"RV_INSS", "RV_REFFER", "RV_REF13"}, {"S", "N* ", "S"} )','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nBaseSS13 > 0   .END.','000082','000080','.CON.','5','','','5','nBaseSS13 > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSS13 := (nBaseSS13 * nPerSSFun ) / 100     .CNT.','000083','000082','.EXE.','5','nVlSS13 := (nBaseSS13 * nPerSSFun ) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSSEmp13 := (nBaseSS13 * nPerSSEmp) / 100     .CNT.','000084','000082','.EXE.','5','nVlSSEmp13 := (nBaseSS13 * nPerSSEmp) / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlMaxSS > 0   .END.','000085','000082','.CON.','5','','','5','nVlMaxSS > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGSOCIA','nVlSS13 := If(nVlMaxSS < nVlSS13 , nVlMaxSS , nVlSS13 )','000086','000085','.EXE.','5','nVlSS13 := If(nVlMaxSS < nVlSS13 , nVlMaxSS , nVlSS13 )','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0119    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0119( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SEGUROVI','CALCULO DO SEGURO DE VIDA','','','014','2','1',} )

aAdd(aRc3Cols, { '','S_','SEGUROVI','FGETCODFOL("153") # Space(3) .And. SRA->RA_SEGUROV # Space','000001','000000','.CON.','5','','','5','FGETCODFOL("153") # Space(3) .And. SRA->RA_SEGUROV # Space(02)','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','( cTipoRot == "1" .or. ( cTipoRot == "4" .and. ( cCompl #','000002','000001','.CON.','5','','','5','( cTipoRot == "1" .or. ( cTipoRot == "4" .and. ( cCompl # "S" .or. ( cCompl == "S" .and. MesAno(GetMemVar("RG_DATADEM")) == MesAno(GetMemVar("RG_DTGERAR")) ))))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','SEGURO_B := SALARIO     .CNT.','000003','000002','.EXE.','5','SEGURO_B := SALARIO','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','SEGURO_B += FO_SOMAINCSRV(@&cObjeto,cCpoValor,"RV_SEGVIDA","','000004','000002','.EXE.','5','SEGURO_B += FO_SOMAINCSRV(@&cObjeto,cCpoValor,"RV_SEGVIDA","S")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','FGETCODFOL("238") <> Space(3) .and. PosSrv(fGetCodFol("023','000005','000002','.CON.','5','','','5','FGETCODFOL("238") <> Space(3) .and. PosSrv(fGetCodFol("0238"),SRA->RA_FILIAL,"RV_SEGVIDA")  == "S"','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','Seguro_B += fVarRot("nMedComiss")     .END.','000006','000005','.EXE.','5','Seguro_B += fVarRot("nMedComiss")','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','nLinha := fPosTab("S015",SRA->RA_SEGUROV,"=",4,SEGURO_B,"<="','000007','000002','.EXE.','5','nLinha := fPosTab("S015",SRA->RA_SEGUROV,"=",4,SEGURO_B,"<=",6)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','(nLinha := fPosTab("S015",SRA->RA_SEGUROV,"=",4,SEGURO_B,"','000008','000002','.CON.','5','','','5','(nLinha := fPosTab("S015",SRA->RA_SEGUROV,"=",4,SEGURO_B,"<=",6)  ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','nPercFun := fTabela("S015",nLinha,7)     .CNT.','000009','000008','.EXE.','5','nPercFun := fTabela("S015",nLinha,7)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','nPercEmp := fTabela("S015",nLinha,8)     .CNT.','000010','000008','.EXE.','5','nPercEmp := fTabela("S015",nLinha,8)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','nBase := fTabela("S015",nLinha,9)     .CNT.','000011','000008','.EXE.','5','nBase := fTabela("S015",nLinha,9)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','nMinimo := fTabela("S015",nLinha,10)     .CNT.','000012','000008','.EXE.','5','nMinimo := fTabela("S015",nLinha,10)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','nMaximo := fTabela("S015",nLinha,11)     .CNT.','000013','000008','.EXE.','5','nMaximo := fTabela("S015",nLinha,11)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','NSEGURO := SEGURO_B * nPercFun / 100     .CNT.','000014','000008','.EXE.','5','NSEGURO := SEGURO_B * nPercFun / 100','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','nBase > 0   .END.','000015','000008','.CON.','5','','','5','nBase > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','NSEGURO := NBASE  * nPercFun / 100     .END.','000016','000015','.EXE.','5','NSEGURO := NBASE  * nPercFun / 100','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','NSEGURO < NMINIMO   .END.','000017','000008','.CON.','5','','','5','NSEGURO < NMINIMO','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','NSEGURO := NMINIMO     .END.','000018','000017','.EXE.','5','NSEGURO := NMINIMO','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','NSEGURO > NMAXIMO .AND. NMAXIMO > 0   .END.','000019','000008','.CON.','5','','','5','NSEGURO > NMAXIMO .AND. NMAXIMO > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','NSEGURO := NMAXIMO     .END.','000020','000019','.EXE.','5','NSEGURO := NMAXIMO','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SEGUROVI','NSEGEMP := (IIf (NBASE = 0, Seguro_B, NBASE) * nPercEmp) / 1','000021','000008','.EXE.','5','NSEGEMP := (IIf (NBASE = 0, Seguro_B, NBASE) * nPercEmp) / 100','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0120    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0120( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SINDICAL','CALCULO CONTRIBUICAO SINDICAL','','','011','2','1',} )

aAdd(aRc3Cols, { '','S_','SINDICAL','nContri_b := 0   .CNT.','000001','000000','.EXE.','5','nContri_b',':=','5','0','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','dDtIniA := ctod("//")   .CNT.','000002','000000','.EXE.','5','dDtIniA',':=','5','ctod("//")','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','dDtFimA := ctod("//")   .CNT.','000003','000000','.EXE.','5','dDtFimA',':=','5','ctod("//")','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','cTipAfA := " "   .CNT.','000004','000000','.EXE.','5','cTipAfA',':=','5','" "','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','lDescSin := .F.   .CNT.','000005','000000','.EXE.','5','lDescSin',':=','5','.F.','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','cSitFolh := If( type("cSitFolh")=="U",SRA->RA_SITFOLH,cSitFo','000006','000000','.EXE.','5','cSitFolh',':=','5','If( type("cSitFolh")=="U",SRA->RA_SITFOLH,cSitFolh)','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','cFilSind == NIL .OR.','000007','000000','.CON.','5','','','5','cFilSind','==','5','NIL','.OR.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','SRA->RA_FILIAL <> cFilSind .END.','000008','000000','.CON.','5','','','5','SRA->RA_FILIAL','<>','5','cFilSind','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','cFilSind := SRA->RA_FILIAL   .CNT.','000009','000008','.EXE.','5','cFilSind',':=','5','SRA->RA_FILIAL','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nDTrSind := P_DTRSIND   .END.','000010','000008','.EXE.','5','nDTrSind',':=','5','P_DTRSIND','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','lSalBase := If (cTipoRot == "1", .T. ,.F. )   .CNT.','000011','000000','.EXE.','5','lSalBase',':=','5','If (cTipoRot == "1", .T. ,.F. )','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','SRA->RA_TIPOPGT <> "S" .OR.','000012','000000','.CON.','5','','','5','SRA->RA_TIPOPGT','<>','5','"S"','.OR.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','lUltSemana == .F. .END.','000013','000000','.CON.','5','','','5','lUltSemana','==','5','.T.','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','MONTH(dDatabase) >= 3 .OR.','000014','000013','.CON.','5','','','5','MONTH(dDatabase)','>=','5','3','.OR.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','SRA->RA_PGCTSIND $ "D*T" .END.','000015','000013','.CON.','5','','','5','SRA->RA_PGCTSIND','$','5','"D*T"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','FGETCODFOL("0068") <> SPACE(4) .END.','000016','000015','.CON.','5','','','5','FGETCODFOL("0068")','<>','5','SPACE(4)','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','( If( Type( "lDissidio" ) # "U" .And. lDissidio , .T. , SR','000017','000016','.CON.','5','','','5','( If( Type( "lDissidio" ) # "U" .And. lDissidio , .T. , SRA->RA_PGCTSIND == "S") .And. ( Mesano( SRA->RA_ADMISSAO ) == Mesano( dDatabase ) .Or. Month( dDatabase ) >= 3 ) )','','5','','.OR.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','( SRA->RA_PGCTSIND $ "D*T" .And. Mesano(dDatabase) > Mesan','000018','000016','.CON.','5','','','5','( SRA->RA_PGCTSIND $ "D*T" .And. Mesano(dDatabase) > Mesano(SRA->RA_ADMISSAO) )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nBaseSind == NIL .OR.','000019','000018','.CON.','5','','','5','nBaseSind','==','5','NIL','.OR.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nBaseSind <= 0 .END.','000020','000018','.CON.','5','','','5','nBaseSind','<=','5','0','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nContri_b := FO_SOMAINCSRV(@&cObjeto, cCpoValor, "RV_SINDICA','000021','000020','.EXE.','5','nContri_b',':=','5','FO_SOMAINCSRV(@&cObjeto, cCpoValor, "RV_SINDICA", "S" )','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','lSalBase == .T. .END.','000022','000020','.CON.','5','','','5','lSalBase','==','5','.T.','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nContri_b += IF(SRA->RA_CATFUNC $ "H" .And. cDiasMes = "N" ,','000023','000022','.EXE.','5','nContri_b','+=','5','IF(SRA->RA_CATFUNC $ "H" .And. cDiasMes = "N" , (SRA->RA_SALARIO * SRA->RA_HRSMES ), Salario )','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','lSalBase == .F. .END.','000024','000020','.CON.','5','','','5','lSalBase','==','5','.F.','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nContri_b := nContri_b + SALMES .END.','000025','000024','.EXE.','5','nContri_b',':=','5','nContri_b','+','5','SALMES','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nBaseSind > 0 .END.','000026','000018','.CON.','5','','','5','nBaseSind','>','5','0','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','NContri_B := nBaseSind + Salario   .END.','000027','000026','.EXE.','5','NContri_B',':=','5','nBaseSind + Salario','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','NContri_B > 0 .END.','000028','000018','.CON.','5','','','5','NContri_B','>','5','0','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','! FO_SEEK(@&cObjeto, cCpoPD, FGETCODFOL("0068") )   .END.','000029','000028','.CON.','5','','','5','! FO_SEEK(@&cObjeto, cCpoPD, FGETCODFOL("0068") )','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','SRA->RA_CATFUNC $ "M*C*H*T" .AND.','000030','000029','.CON.','5','','','5','SRA->RA_CATFUNC','$','5','"M*C*H*T"','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','SRA->RA_TIPOPGT == "M" .END.','000031','000029','.CON.','5','','','5','SRA->RA_TIPOPGT','==','5','"M"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nContri := IF( SRA->RA_CATFUNC $ "H" .And. cDiasMes = "S" ,','000032','000031','.EXE.','5','nContri',':=','5','IF( SRA->RA_CATFUNC $ "H" .And. cDiasMes = "S" , (nCONTRI_B / nULT_DIA ) , (nCONTRI_B / 30 ) )','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','SRA->RA_CATFUNC == "D" .END.','000033','000029','.CON.','5','','','5','SRA->RA_CATFUNC','==','5','"D"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nContri := nCONTRI_B / 30   .END.','000034','000033','.EXE.','5','nContri',':=','5','nCONTRI_B / 30','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','!(SRA->RA_CATFUNC $ "M*C*H*T" .And. SRA->RA_TIPOPGT = "M"','000035','000029','.CON.','5','','','5','!(SRA->RA_CATFUNC $ "M*C*H*T" .And. SRA->RA_TIPOPGT = "M" )','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','SRA->RA_CATFUNC <> "D" .END.','000036','000029','.CON.','5','','','5','SRA->RA_CATFUNC','<>','5','"D"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','nContri := (nCONTRI_B / 30)   .END.','000037','000036','.EXE.','5','nContri',':=','5','(nCONTRI_B / 30)','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','lDescSin := .T.   .CNT.','000038','000029','.EXE.','5','lDescSin',':=','5','.T.','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','cSitFolh == "A" .END.','000039','000029','.CON.','5','','','5','cSitFolh','==','5','"A"','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','fChkAfas(SRA->RA_FILIAL,SRA->RA_MAT,dDataBase,@dDtIniA,@dDtF','000040','000039','.EXE.','5','fChkAfas(SRA->RA_FILIAL,SRA->RA_MAT,dDataBase,@dDtIniA,@dDtFimA,@cTipAfa)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','MesAno(dDtIniA) == MesAno(dDataBase) .AND.','000041','000039','.CON.','5','','','5','MesAno(dDtIniA)','==','5','MesAno(dDataBase)','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','DIASTRAB < nDTrSind .END.','000042','000039','.CON.','5','','','5','DIASTRAB','<','5','nDTrSind','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','lDescSin := .F.   .END.','000043','000042','.EXE.','5','lDescSin',':=','5','.F.','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','MesAno(dDtIniA) # MesAno(dDataBase)   .AND.','000044','000039','.CON.','5','','','5','MesAno(dDtIniA) # MesAno(dDataBase)','','5','','.AND.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','(Empty(dDtFimA) .Or. MesAno(dDtFimA) >= MesAno(dDataBase))','000045','000039','.CON.','5','','','5','(Empty(dDtFimA) .Or. MesAno(dDtFimA) >= MesAno(dDataBase))','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SINDICAL','lDescSin := .F.   .END.','000046','000045','.EXE.','5','lDescSin',':=','5','.F.','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0121    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0121( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMDESCF','SOMA DESCONTO DE FERIAS','','','002','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMDESCF','nValDesc := FO_SOMAINCSRV(@&cObjeto, cCpoValor, "RV_TIPOCOD"','000001','000000','.EXE.','5','nValDesc',':=','5','FO_SOMAINCSRV(@&cObjeto, cCpoValor, "RV_TIPOCOD", "2")   * -1','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0122    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0122( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SOMPROVF','SOMA PROVENTOS DE FERIAS','','','002','2','1',} )

aAdd(aRc3Cols, { '','S_','SOMPROVF','nValProv := FO_SOMAINCSRV(@&cObjeto, cCpoValor, "RV_TIPOCOD"','000001','000000','.EXE.','5','nValProv',':=','5','FO_SOMAINCSRV(@&cObjeto, cCpoValor, "RV_TIPOCOD" , "1" )','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0123    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0123( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','SUBTURNO','CALCULO DO SUBSIDIO DE TURNO','','','002','2','1',} )

aAdd(aRc3Cols, { '','S_','SUBTURNO','nVlSubTurno := 0     .CNT.','000001','000000','.EXE.','5','nVlSubTurno := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nMeses := 12     .CNT.','000002','000000','.EXE.','5','nMeses := 12','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nHorasAno := 2080     .CNT.','000003','000000','.EXE.','5','nHorasAno := 2080','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nLinha := 0     .CNT.','000004','000000','.EXE.','5','nLinha := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nPercSub := 0     .CNT.','000005','000000','.EXE.','5','nPercSub := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nRefSubTur := 0     .CNT.','000006','000000','.EXE.','5','nRefSubTur := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','cTab := ""     .CNT.','000007','000000','.EXE.','5','cTab := ""','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nDiasUt :=0     .CNT.','000008','000000','.EXE.','5','nDiasUt :=0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','FGETCODFOL("0469") <> SPACE(3) .END.','000009','000000','.CON.','5','','','5','FGETCODFOL("0469")','<>','5','SPACE(3)','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','CTAB := "S031"     .CNT.','000010','000009','.EXE.','5','CTAB := "S031"','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nDiasUt :=  FO_GETVAL(@ORCF,"RCF_DIATRA")     .CNT.','000011','000009','.EXE.','5','nDiasUt :=  FO_GETVAL(@ORCF,"RCF_DIATRA")','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','MESANO(SRA->RA_ADMISSA) = cAnoMes   .END.','000012','000009','.CON.','5','','','5','MESANO(SRA->RA_ADMISSA) = cAnoMes','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nDiasUt := 0     .CNT.','000013','000012','.EXE.','5','nDiasUt := 0','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','FTRABCALEN( CPERIODO,@nDiasUt , , , , , , , , , , , CNUMPAG,','000014','000012','.EXE.','5','FTRABCALEN( CPERIODO,@nDiasUt , , , , , , , , , , , CNUMPAG, .T., , , C__ROTEIRO)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','(nLinha := fPosTab(cTab,SRA->RA_CODFUNC,"=",4,SRA->RA_TNOT','000015','000009','.CON.','5','','','5','(nLinha := fPosTab(cTab,SRA->RA_CODFUNC,"=",4,SRA->RA_TNOTRAB,"=",5)  ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nPercSub := FTABELA(CTAB,NLINHA,6)     .CNT.','000016','000015','.EXE.','5','nPercSub := FTABELA(CTAB,NLINHA,6)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nRefSubTur := FTABELA(CTAB,NLINHA,7)     .END.','000017','000015','.EXE.','5','nRefSubTur := FTABELA(CTAB,NLINHA,7)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nLinha == 0   .END.','000018','000009','.CON.','5','','','5','nLinha == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','(nLinha := fPosTab(cTab,SRA->RA_CODFUNC,"=",4,Space(3),"="','000019','000018','.CON.','5','','','5','(nLinha := fPosTab(cTab,SRA->RA_CODFUNC,"=",4,Space(3),"=",5)  ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nPercSub := FTABELA(CTAB,NLINHA,6)     .CNT.','000020','000019','.EXE.','5','nPercSub := FTABELA(CTAB,NLINHA,6)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nRefSubTur := FTABELA(CTAB,NLINHA,7)     .END.','000021','000019','.EXE.','5','nRefSubTur := FTABELA(CTAB,NLINHA,7)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nLinha == 0   .END.','000022','000018','.CON.','5','','','5','nLinha == 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','(nLinha := fPosTab(cTab,Space(5),"=",4,SRA->RA_TNOTRAB,"="','000023','000022','.CON.','5','','','5','(nLinha := fPosTab(cTab,Space(5),"=",4,SRA->RA_TNOTRAB,"=",5)  ) > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nPercSub := FTABELA(CTAB,NLINHA,6)     .CNT.','000024','000023','.EXE.','5','nPercSub := FTABELA(CTAB,NLINHA,6)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nRefSubTur := FTABELA(CTAB,NLINHA,7)     .END.','000025','000023','.EXE.','5','nRefSubTur := FTABELA(CTAB,NLINHA,7)','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nPercSub > 0 .And. nRefSubTur > 0   .END.','000026','000009','.CON.','5','','','5','nPercSub > 0 .And. nRefSubTur > 0','','5','','.END.','PMSTASK1','PMSTASK1',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nVlSubTurno := SALMES * (nPercSub / 100)     .CNT.','000027','000026','.EXE.','5','nVlSubTurno := SALMES * (nPercSub / 100)','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nVlSubTurno := nVlSubTurno * nMeses / nHorasAno     .CNT.','000028','000026','.EXE.','5','nVlSubTurno := nVlSubTurno * nMeses / nHorasAno','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nVlSubTurno := nVlSubTurno * nDiasUt     .CNT.','000029','000026','.EXE.','5','nVlSubTurno := nVlSubTurno * nDiasUt','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','SUBTURNO','nVlSubTurno := nVlSubTurno * nRefSubTur     .END.','000030','000026','.EXE.','5','nVlSubTurno := nVlSubTurno * nRefSubTur','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )

/*/
зддддддддддбддддддддддддддбдддддбдддддддддддддддддддддбддддддбдддддддддд©
ЁFun┤┘o    ЁAddPTG0124    ЁAutorЁ Gerado pelo sistema Ё Data Ё          Ё
юддддддддддадддддддддддддддддддддддддддддддддддддддддддддддддддддддддддды/*/
Function AddPTG0124( aRc2Header , aRc3Header , aSYPHeader )

Local aRc2Cols    := {}
Local aRc3Cols    := {}
Local aItensSYP   := {}

Local cFilRC2     := xFilial('RC2')
Local cCliVersao  := ''

Local lFound      := .F.

Local nRc2Origem	:=  GdFieldPos( 'RC2_ORIGEM' , aRC2Header )
Local nRc2Codigo	:=  GdFieldPos( 'RC2_CODIGO' , aRC2Header )
Local nRc2Versao	:=  GdFieldPos( 'RC2_VERSAO' , aRC2Header )

aAdd(aRc2Cols, { '','S_','VENCBASE','CALCULO DO VENCIMENTO BASE P/ FER E 13','','','007','2','1',} )

aAdd(aRc3Cols, { '','S_','VENCBASE','NDIASPERPT := DATEDIFFDAY( DDTBASFER , DDATADEM ) + 1     .C','000001','000000','.EXE.','5','NDIASPERPT := DATEDIFFDAY( DDTBASFER , DDATADEM ) + 1','','5','','','5','','.CNT.','PMSTASK4','PMSTASK4',} )
aAdd(aRc3Cols, { '','S_','VENCBASE','NVENCBASE := SALMES / F_ULTDIA(DDATADEM) * NDIASPERPT     .E','000002','000000','.EXE.','5','NVENCBASE := SALMES / F_ULTDIA(DDATADEM) * NDIASPERPT','','5','','','5','','.END.','PMSTASK4','PMSTASK4',} )

dbSelectArea("RC2")
RC2->( dbSetOrder( RetOrdem('RC2','RC2_FILIAL+RC2_ORIGEM+RC2_CODIGO') ) )
lFound := RC2->( dbSeek( cFilRC2 + aRc2Cols[ 1 , nRc2Origem ] + aRc2Cols[ 1 , nRc2Codigo ] ) )
IF ( lFound )
	cCliVersao := RC2->RC2_VERSAO
Else
	cCliVersao := '__New_Version__' 
EndIF
IF ( Val(cCliVersao) < Val(aRc2Cols[ 1 , nRc2Versao ]) ) .Or. (cCliVersao == '__New_Version__')
	fFormGrava( aRc2Cols , aRc3Cols , aRC2Header , aRC3Header , aSYPHeader, aItensSYP )
EndIF

Return( NIL )